import ParameterTypes from "@site/src/components/ParameterTypes"

# TotalsService

A service that calculates total and subtotals for orders, carts etc..

## Implements

## constructor

### Parameters

<ParameterTypes parameters={[
  {
    "name": "__namedParameters",
    "type": "[TotalsServiceProps](../types/medusa.TotalsServiceProps.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "featureFlagRouter",
        "type": "[FlagRouter](medusa.FlagRouter.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "manager",
        "type": "`EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "newTotalsService",
        "type": "[NewTotalsService](medusa.NewTotalsService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxCalculationStrategy",
        "type": "[ITaxCalculationStrategy](../interfaces/medusa.ITaxCalculationStrategy.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxProviderService",
        "type": "[TaxProviderService](medusa.TaxProviderService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

## Properties

<ParameterTypes parameters={[
  {
    "name": "__configModule__",
    "type": "`Record<string, unknown>`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "__container__",
    "type": "`any`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "__moduleDeclaration__",
    "type": "`Record<string, unknown>`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "featureFlagRouter_",
    "type": "[FlagRouter](medusa.FlagRouter.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "flags",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "manager_",
    "type": "`EntityManager`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "newTotalsService_",
    "type": "[NewTotalsService](medusa.NewTotalsService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "__configModule__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__container__",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__moduleDeclaration__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "featureFlagRouter_",
        "type": "[FlagRouter](medusa.FlagRouter.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "manager_",
        "type": "`EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxCalculationStrategy_",
        "type": "[ITaxCalculationStrategy](../interfaces/medusa.ITaxCalculationStrategy.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxProviderService_",
        "type": "[TaxProviderService](medusa.TaxProviderService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "transactionManager_",
        "type": "`undefined` \\| `EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "taxCalculationStrategy_",
    "type": "[ITaxCalculationStrategy](../interfaces/medusa.ITaxCalculationStrategy.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "taxProviderService_",
    "type": "[TaxProviderService](medusa.TaxProviderService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "__configModule__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__container__",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__moduleDeclaration__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cacheService_",
        "type": "[ICacheService](../interfaces/medusa.ICacheService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "container_",
        "type": "AwilixContainer&#60;any&#62;",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "eventBus_",
        "type": "[IEventBusService](../interfaces/medusa.IEventBusService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "manager_",
        "type": "`EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "smTaxLineRepo_",
        "type": "Repository&#60;[ShippingMethodTaxLine](medusa.ShippingMethodTaxLine.mdx)&#62; & `object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxLineRepo_",
        "type": "Repository&#60;[LineItemTaxLine](medusa.LineItemTaxLine.mdx)&#62; & `object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxProviderRepo_",
        "type": "Repository&#60;[TaxProvider](medusa.TaxProvider.mdx)&#62;",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxRateService_",
        "type": "[TaxRateService](medusa.TaxRateService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "transactionManager_",
        "type": "`undefined` \\| `EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "transactionManager_",
    "type": "`undefined` \\| `EntityManager`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

___

## Accessors

### activeManager\_

#### Returns

<ParameterTypes parameters={[]} />

___

## Methods

### atomicPhase\_

Wraps some work within a transactional block. If the service already has
a transaction manager attached this will be reused, otherwise a new
transaction manager is created.

#### Type Parameters

<ParameterTypes parameters={[
  {
    "name": "TResult",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "TError",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "work",
    "type": "(`transactionManager`: `EntityManager`) => Promise&#60;TResult&#62;",
    "description": "the transactional work to be done",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "isolationOrErrorHandler",
    "type": "`IsolationLevel` \\| (`error`: `TError`) => Promise&#60;void \\| TResult&#62;",
    "description": "the isolation level to be used for the work.",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "maybeErrorHandlerOrDontFail",
    "type": "(`error`: `TError`) => Promise&#60;void \\| TResult&#62;",
    "description": "Potential error handler",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;TResult&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the result of the transactional work",
    "expandable": false,
    "children": [
      {
        "name": "TResult",
        "type": "`TResult`",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### calculateDiscount\_

Calculates either fixed or percentage discount of a variant

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "lineItem",
    "type": "[LineItem](medusa.LineItem.mdx)",
    "description": "id of line item",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "variant",
    "type": "`string`",
    "description": "id of variant in line item",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "variantPrice",
    "type": "`number`",
    "description": "price of the variant based on region",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "value",
    "type": "`number`",
    "description": "discount value",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "discountType",
    "type": "[DiscountRuleType](../enums/medusa.DiscountRuleType.mdx)",
    "description": "the type of discount (fixed or percentage)",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "FIXED",
        "type": "`\"fixed\"`",
        "description": "Discounts that reduce the price by a fixed amount.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "FREE_SHIPPING",
        "type": "`\"free_shipping\"`",
        "description": "Discounts that sets the shipping price to `0`.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "PERCENTAGE",
        "type": "`\"percentage\"`",
        "description": "Discounts that reduce the price by a percentage reduction.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "LineDiscount",
    "type": "`object`",
    "description": "Associates a line item and discount allocation.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "amount",
        "type": "`number`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "lineItem",
        "type": "[LineItem](medusa.LineItem.mdx)",
        "description": "Line Items are created when a product is added to a Cart. When Line Items are purchased they will get copied to the resulting order, swap, or claim, and can eventually be referenced in Fulfillments and Returns. Line items may also be used for order edits.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "`string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Deprecated

- in favour of DiscountService.calculateDiscountForLineItem

___

### getAllocationItemDiscounts

If the rule of a discount has allocation="item", then we need
to calculate discount on each item in the cart. Furthermore, we need to
make sure to only apply the discount on valid variants. And finally we
return ether an array of percentages discounts or fixed discounts
alongside the variant on which the discount was applied.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "discount",
    "type": "[Discount](medusa.Discount.mdx)",
    "description": "the discount to which we do the calculation",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "code",
        "type": "`string`",
        "description": "A unique code for the discount - this will be used by the customer to apply the discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "ends_at",
        "type": "`null` \\| `Date`",
        "description": "The time at which the discount can no longer be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The discount's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_disabled",
        "type": "`boolean`",
        "description": "Whether the Discount has been disabled. Disabled discounts cannot be applied to carts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_dynamic",
        "type": "`boolean`",
        "description": "A flag to indicate if multiple instances of the discount can be generated. I.e. for newsletter discounts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "parent_discount",
        "type": "[Discount](medusa.Discount.mdx)",
        "description": "The details of the parent discount that this discount was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "parent_discount_id",
        "type": "`string`",
        "description": "The Discount that the discount was created from. This will always be a dynamic discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "regions",
        "type": "[Region](medusa.Region.mdx)[]",
        "description": "The details of the regions in which the Discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule",
        "type": "[DiscountRule](medusa.DiscountRule.mdx)",
        "description": "The details of the discount rule that defines how the discount will be applied to a cart..",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule_id",
        "type": "`string`",
        "description": "The ID of the discount rule that defines how the discount will be applied to a cart.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "starts_at",
        "type": "`Date`",
        "description": "The time at which the discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_count",
        "type": "`number`",
        "description": "The number of times a discount has been used.",
        "optional": false,
        "defaultValue": "0",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_limit",
        "type": "`null` \\| `number`",
        "description": "The maximum number of times that a discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "valid_duration",
        "type": "`null` \\| `string`",
        "description": "Duration the discount runs between",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cart",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart to calculate discounts for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "LineDiscount[]",
    "type": "[LineDiscount](../types/medusa.LineDiscount.mdx)[]",
    "optional": false,
    "defaultValue": "",
    "description": "array of triples of lineitem, variant and applied discount",
    "expandable": false,
    "children": [
      {
        "name": "LineDiscount",
        "type": "`object`",
        "description": "Associates a line item and discount allocation.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getAllocationMap

Gets a map of discounts and gift cards that apply to line items in an
order. The function calculates the amount of a discount or gift card that
applies to a specific line item.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "orderOrCart",
    "type": "`object`",
    "description": "the order or cart to get an allocation map for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "orderOrCart.claims",
    "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "additional_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the new items to be shipped when the claim's type is `replace`",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date with timezone at which the claim was canceled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_items",
        "type": "[ClaimItem](medusa.ClaimItem.mdx)[]",
        "description": "The details of the items that should be replaced or refunded.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[ClaimFulfillmentStatus](../enums/medusa.ClaimFulfillmentStatus.mdx)",
        "description": "The claim's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The fulfillments of the new items to be shipped",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The claim's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the completion of the cart associated with the claim in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that this claim was created for.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`string`",
        "description": "The ID of the order that the claim comes from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[ClaimPaymentStatus](../enums/medusa.ClaimPaymentStatus.mdx)",
        "description": "The status of the claim's payment",
        "optional": false,
        "defaultValue": "na",
        "expandable": false,
        "children": []
      },
      {
        "name": "refund_amount",
        "type": "`number`",
        "description": "The amount that will be refunded in conjunction with the claim",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_order",
        "type": "[Return](medusa.Return.mdx)",
        "description": "The details of the return associated with the claim if the claim's type is `replace`.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the address that new items should be shipped to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the address that the new items should be shipped to",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods that the claim order will be shipped with.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "type",
        "type": "[ClaimType](../enums/medusa.ClaimType.mdx)",
        "description": "The claim's type",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "orderOrCart.discounts",
    "type": "[Discount](medusa.Discount.mdx)[]",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "code",
        "type": "`string`",
        "description": "A unique code for the discount - this will be used by the customer to apply the discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "ends_at",
        "type": "`null` \\| `Date`",
        "description": "The time at which the discount can no longer be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The discount's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_disabled",
        "type": "`boolean`",
        "description": "Whether the Discount has been disabled. Disabled discounts cannot be applied to carts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_dynamic",
        "type": "`boolean`",
        "description": "A flag to indicate if multiple instances of the discount can be generated. I.e. for newsletter discounts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "parent_discount",
        "type": "[Discount](medusa.Discount.mdx)",
        "description": "The details of the parent discount that this discount was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "parent_discount_id",
        "type": "`string`",
        "description": "The Discount that the discount was created from. This will always be a dynamic discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "regions",
        "type": "[Region](medusa.Region.mdx)[]",
        "description": "The details of the regions in which the Discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule",
        "type": "[DiscountRule](medusa.DiscountRule.mdx)",
        "description": "The details of the discount rule that defines how the discount will be applied to a cart..",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule_id",
        "type": "`string`",
        "description": "The ID of the discount rule that defines how the discount will be applied to a cart.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "starts_at",
        "type": "`Date`",
        "description": "The time at which the discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_count",
        "type": "`number`",
        "description": "The number of times a discount has been used.",
        "optional": false,
        "defaultValue": "0",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_limit",
        "type": "`null` \\| `number`",
        "description": "The maximum number of times that a discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "valid_duration",
        "type": "`null` \\| `string`",
        "description": "Duration the discount runs between",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "orderOrCart.items",
    "type": "[LineItem](medusa.LineItem.mdx)[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "orderOrCart.swaps",
    "type": "[Swap](medusa.Swap.mdx)[]",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "additional_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the new products to send to the customer, represented as line items.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_backorder",
        "type": "`boolean`",
        "description": "If true, swaps can be completed with items out of stock",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date with timezone at which the Swap was canceled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the customer uses to complete the swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the customer uses to complete the swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "confirmed_at",
        "type": "`Date`",
        "description": "The date with timezone at which the Swap was confirmed by the Customer.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "difference_due",
        "type": "`number`",
        "description": "The difference amount between the orders original total and the new total imposed by the swap. If its value is negative, a refund must be issues to the customer. If it's positive, additional payment must be authorized by the customer. Otherwise, no payment processing is required.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[SwapFulfillmentStatus](../enums/medusa.SwapFulfillmentStatus.mdx)",
        "description": "The status of the Fulfillment of the Swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments that are used to send the new items to the customer.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The swap's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the completion of the swap in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "If set to true, no notification will be sent related to this swap",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the swap belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`string`",
        "description": "The ID of the order that the swap belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment",
        "type": "[Payment](medusa.Payment.mdx)",
        "description": "The details of the additional payment authorized by the customer when `difference\\_due` is positive.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[SwapPaymentStatus](../enums/medusa.SwapPaymentStatus.mdx)",
        "description": "The status of the Payment of the Swap. The payment may either refer to the refund of an amount or the authorization of a new amount.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_order",
        "type": "[Return](medusa.Return.mdx)",
        "description": "The details of the return that belongs to the swap, which holds the details on the items being returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address that the new items should be sent to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The Address to send the new Line Items to - in most cases this will be the same as the shipping address on the Order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used to fulfill the additional items purchased.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "options",
    "type": "[AllocationMapOptions](../types/medusa.AllocationMapOptions.mdx)",
    "description": "controls what should be included in allocation map",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "exclude_discounts",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "exclude_gift_cards",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;[LineAllocationsMap](../types/medusa.LineAllocationsMap.mdx)&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the allocation map for the line items in the cart or order.",
    "expandable": false,
    "children": [
      {
        "name": "LineAllocationsMap",
        "type": "`object`",
        "description": "A map of line item ids and its corresponding gift card and discount\nallocations",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getCalculationContext

Prepares the calculation context for a tax total calculation.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "calculationContextData",
    "type": "[CalculationContextData](../types/medusa.CalculationContextData.mdx)",
    "description": "the calculationContextData to get the calculation context for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "A customer can make purchases in your store and manage their profile.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "A region holds settings specific to a geographical location, including the currency, tax rates, and fulfillment and payment providers. A Region can consist of multiple countries to accomodate common shopping settings across countries.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx) \\| `null`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "options",
    "type": "[CalculationContextOptions](../types/medusa.CalculationContextOptions.mdx)",
    "description": "options to gather context by",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "exclude_discounts",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "exclude_gift_cards",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "exclude_shipping",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;[TaxCalculationContext](../types/medusa.TaxCalculationContext.mdx)&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the tax calculation context",
    "expandable": false,
    "children": [
      {
        "name": "TaxCalculationContext",
        "type": "`object`",
        "description": "Information relevant to a tax calculation, such as the shipping address where\nthe items are going.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getDiscountTotal

Calculates the total discount amount for each of the different supported
discount types. If discounts aren't present or invalid returns 0.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to calculate discounts for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the total discounts amount",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getGiftCardTotal

Gets the gift card amount on a cart or order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to get gift card amount for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "opts",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "gift_cardable",
        "type": "`number`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "opts.gift_cardable",
    "type": "`number`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;object&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the gift card amount applied to the cart or order",
    "expandable": false,
    "children": [
      {
        "name": "object",
        "type": "`object`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getGiftCardableAmount

Gets the amount that can be gift carded on a cart. In regions where gift
cards are taxable this amount should exclude taxes.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to get gift card amount for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the gift card amount applied to the cart or order",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getLineDiscounts

Returns the discount amount allocated to the line items of an order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "`object`",
    "description": "the cart or order to get line discount allocations for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder.claims",
    "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "additional_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the new items to be shipped when the claim's type is `replace`",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date with timezone at which the claim was canceled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_items",
        "type": "[ClaimItem](medusa.ClaimItem.mdx)[]",
        "description": "The details of the items that should be replaced or refunded.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[ClaimFulfillmentStatus](../enums/medusa.ClaimFulfillmentStatus.mdx)",
        "description": "The claim's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The fulfillments of the new items to be shipped",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The claim's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the completion of the cart associated with the claim in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that this claim was created for.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`string`",
        "description": "The ID of the order that the claim comes from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[ClaimPaymentStatus](../enums/medusa.ClaimPaymentStatus.mdx)",
        "description": "The status of the claim's payment",
        "optional": false,
        "defaultValue": "na",
        "expandable": false,
        "children": []
      },
      {
        "name": "refund_amount",
        "type": "`number`",
        "description": "The amount that will be refunded in conjunction with the claim",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_order",
        "type": "[Return](medusa.Return.mdx)",
        "description": "The details of the return associated with the claim if the claim's type is `replace`.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the address that new items should be shipped to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the address that the new items should be shipped to",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods that the claim order will be shipped with.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "type",
        "type": "[ClaimType](../enums/medusa.ClaimType.mdx)",
        "description": "The claim's type",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder.items",
    "type": "[LineItem](medusa.LineItem.mdx)[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder.swaps",
    "type": "[Swap](medusa.Swap.mdx)[]",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "additional_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the new products to send to the customer, represented as line items.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_backorder",
        "type": "`boolean`",
        "description": "If true, swaps can be completed with items out of stock",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date with timezone at which the Swap was canceled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the customer uses to complete the swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the customer uses to complete the swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "confirmed_at",
        "type": "`Date`",
        "description": "The date with timezone at which the Swap was confirmed by the Customer.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "difference_due",
        "type": "`number`",
        "description": "The difference amount between the orders original total and the new total imposed by the swap. If its value is negative, a refund must be issues to the customer. If it's positive, additional payment must be authorized by the customer. Otherwise, no payment processing is required.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[SwapFulfillmentStatus](../enums/medusa.SwapFulfillmentStatus.mdx)",
        "description": "The status of the Fulfillment of the Swap.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments that are used to send the new items to the customer.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The swap's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the completion of the swap in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "If set to true, no notification will be sent related to this swap",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the swap belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`string`",
        "description": "The ID of the order that the swap belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment",
        "type": "[Payment](medusa.Payment.mdx)",
        "description": "The details of the additional payment authorized by the customer when `difference\\_due` is positive.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[SwapPaymentStatus](../enums/medusa.SwapPaymentStatus.mdx)",
        "description": "The status of the Payment of the Swap. The payment may either refer to the refund of an amount or the authorization of a new amount.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_order",
        "type": "[Return](medusa.Return.mdx)",
        "description": "The details of the return that belongs to the swap, which holds the details on the items being returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address that the new items should be sent to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The Address to send the new Line Items to - in most cases this will be the same as the shipping address on the Order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used to fulfill the additional items purchased.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "discount",
    "type": "[Discount](medusa.Discount.mdx)",
    "description": "the discount to use as context for the calculation",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "code",
        "type": "`string`",
        "description": "A unique code for the discount - this will be used by the customer to apply the discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "ends_at",
        "type": "`null` \\| `Date`",
        "description": "The time at which the discount can no longer be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The discount's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_disabled",
        "type": "`boolean`",
        "description": "Whether the Discount has been disabled. Disabled discounts cannot be applied to carts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_dynamic",
        "type": "`boolean`",
        "description": "A flag to indicate if multiple instances of the discount can be generated. I.e. for newsletter discounts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "parent_discount",
        "type": "[Discount](medusa.Discount.mdx)",
        "description": "The details of the parent discount that this discount was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "parent_discount_id",
        "type": "`string`",
        "description": "The Discount that the discount was created from. This will always be a dynamic discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "regions",
        "type": "[Region](medusa.Region.mdx)[]",
        "description": "The details of the regions in which the Discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule",
        "type": "[DiscountRule](medusa.DiscountRule.mdx)",
        "description": "The details of the discount rule that defines how the discount will be applied to a cart..",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule_id",
        "type": "`string`",
        "description": "The ID of the discount rule that defines how the discount will be applied to a cart.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "starts_at",
        "type": "`Date`",
        "description": "The time at which the discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_count",
        "type": "`number`",
        "description": "The number of times a discount has been used.",
        "optional": false,
        "defaultValue": "0",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_limit",
        "type": "`null` \\| `number`",
        "description": "The maximum number of times that a discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "valid_duration",
        "type": "`null` \\| `string`",
        "description": "Duration the discount runs between",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "LineDiscountAmount[]",
    "type": "[LineDiscountAmount](../types/medusa.LineDiscountAmount.mdx)[]",
    "optional": false,
    "defaultValue": "",
    "description": "the allocations that the discount has on the items in the cart or\n  order",
    "expandable": false,
    "children": [
      {
        "name": "LineDiscountAmount",
        "type": "`object`",
        "description": "Associates a line item and discount allocation.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getLineItemAdjustmentsTotal

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "",
    "expandable": false,
    "children": []
  }
]} />

___

### getLineItemDiscountAdjustment

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "lineItem",
    "type": "[LineItem](medusa.LineItem.mdx)",
    "description": "Line Items are created when a product is added to a Cart. When Line Items are purchased they will get copied to the resulting order, swap, or claim, and can eventually be referenced in Fulfillments and Returns. Line items may also be used for order edits.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "discount",
    "type": "[Discount](medusa.Discount.mdx)",
    "description": "A discount can be applied to a cart for promotional purposes.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "code",
        "type": "`string`",
        "description": "A unique code for the discount - this will be used by the customer to apply the discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "deleted_at",
        "type": "`null` \\| `Date`",
        "description": "The date with timezone at which the resource was deleted.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "ends_at",
        "type": "`null` \\| `Date`",
        "description": "The time at which the discount can no longer be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The discount's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_disabled",
        "type": "`boolean`",
        "description": "Whether the Discount has been disabled. Disabled discounts cannot be applied to carts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_dynamic",
        "type": "`boolean`",
        "description": "A flag to indicate if multiple instances of the discount can be generated. I.e. for newsletter discounts",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "parent_discount",
        "type": "[Discount](medusa.Discount.mdx)",
        "description": "The details of the parent discount that this discount was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "parent_discount_id",
        "type": "`string`",
        "description": "The Discount that the discount was created from. This will always be a dynamic discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "regions",
        "type": "[Region](medusa.Region.mdx)[]",
        "description": "The details of the regions in which the Discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule",
        "type": "[DiscountRule](medusa.DiscountRule.mdx)",
        "description": "The details of the discount rule that defines how the discount will be applied to a cart..",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "rule_id",
        "type": "`string`",
        "description": "The ID of the discount rule that defines how the discount will be applied to a cart.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "starts_at",
        "type": "`Date`",
        "description": "The time at which the discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_count",
        "type": "`number`",
        "description": "The number of times a discount has been used.",
        "optional": false,
        "defaultValue": "0",
        "expandable": false,
        "children": []
      },
      {
        "name": "usage_limit",
        "type": "`null` \\| `number`",
        "description": "The maximum number of times that a discount can be used.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "valid_duration",
        "type": "`null` \\| `string`",
        "description": "Duration the discount runs between",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "",
    "expandable": false,
    "children": []
  }
]} />

___

### getLineItemRefund

The amount that can be refunded for a given line item.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "order",
    "type": "[Order](medusa.Order.mdx)",
    "description": "order to use as context for the calculation",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "billing_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the billing address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "billing_address_id",
        "type": "`string`",
        "description": "The ID of the billing address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date the order was canceled on.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "The details of the claims created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "currency",
        "type": "[Currency](medusa.Currency.mdx)",
        "description": "The details of the currency used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "currency_code",
        "type": "`string`",
        "description": "The 3 character currency code that is used in the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "The details of the customer associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "customer_id",
        "type": "`string`",
        "description": "The ID of the customer associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`number`",
        "description": "The total of discount rounded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "The details of the discounts applied on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "display_id",
        "type": "`number`",
        "description": "The order's display ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "draft_order",
        "type": "[DraftOrder](medusa.DraftOrder.mdx)",
        "description": "The details of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "draft_order_id",
        "type": "`string`",
        "description": "The ID of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "edits",
        "type": "[OrderEdit](medusa.OrderEdit.mdx)[]",
        "description": "The details of the order edits done on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "email",
        "type": "`string`",
        "description": "The email associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "external_id",
        "type": "`null` \\| `string`",
        "description": "The ID of an external order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[FulfillmentStatus](../enums/medusa.FulfillmentStatus.mdx)",
        "description": "The order's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_card_tax_total",
        "type": "`number`",
        "description": "The total of gift cards with taxes",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`number`",
        "description": "The total of gift cards",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_transactions",
        "type": "[GiftCardTransaction](medusa.GiftCardTransaction.mdx)[]",
        "description": "The gift card transactions made in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_cards",
        "type": "[GiftCard](medusa.GiftCard.mdx)[]",
        "description": "The details of the gift card used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The order's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the processing of the order in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "item_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on items",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that belong to the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "object",
        "type": "`\"order\"`",
        "description": "",
        "optional": false,
        "defaultValue": "\"order\"",
        "expandable": false,
        "children": []
      },
      {
        "name": "paid_total",
        "type": "`number`",
        "description": "The total amount paid",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[PaymentStatus](../enums/medusa.PaymentStatus.mdx)",
        "description": "The order's payment status",
        "optional": false,
        "defaultValue": "not_paid",
        "expandable": false,
        "children": []
      },
      {
        "name": "payments",
        "type": "[Payment](medusa.Payment.mdx)[]",
        "description": "The details of the payments used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`number`",
        "description": "The total of discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable_amount",
        "type": "`number`",
        "description": "The amount that can be refunded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunded_total",
        "type": "`number`",
        "description": "The total amount refunded if the order is returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunds",
        "type": "[Refund](medusa.Refund.mdx)[]",
        "description": "The details of the refunds created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "The details of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region_id",
        "type": "`string`",
        "description": "The ID of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returnable_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that are returnable as part of the order, swaps, or claims",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "returns",
        "type": "[Return](medusa.Return.mdx)[]",
        "description": "The details of the returns created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel",
        "type": "[SalesChannel](medusa.SalesChannel.mdx)",
        "description": "The details of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the shipping address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_total",
        "type": "`number`",
        "description": "The total of shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "status",
        "type": "[OrderStatus](../enums/medusa.OrderStatus.mdx)",
        "description": "The order's status",
        "optional": false,
        "defaultValue": "pending",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "The details of the swaps created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_rate",
        "type": "`null` \\| `number`",
        "description": "The order's tax rate",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "lineItem",
    "type": "[LineItem](medusa.LineItem.mdx)",
    "description": "the line item to calculate the refund amount for.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the line item refund amount.",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getLineItemTotal

Gets a total for a line item. The total can take gift cards, discounts and
taxes into account. This can be controlled through the options.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "lineItem",
    "type": "[LineItem](medusa.LineItem.mdx)",
    "description": "the line item to calculate a total for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to use as context for the calculation",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "options",
    "type": "[GetLineItemTotalOptions](../types/medusa.GetLineItemTotalOptions.mdx)",
    "description": "the options to use for the calculation",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "exclude_discounts",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "include_tax",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the line item total",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getLineItemTotals

Breaks down the totals related to a line item; these are the subtotal, the
amount of discount applied to the line item, the amount of a gift card
applied to a line item and the amount of tax applied to a line item.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "lineItem",
    "type": "[LineItem](medusa.LineItem.mdx)",
    "description": "the line item to calculate totals for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to use as context for the calculation",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "options",
    "type": "[LineItemTotalsOptions](../types/medusa.LineItemTotalsOptions.mdx)",
    "description": "the options to evaluate the line item totals for",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "calculation_context",
        "type": "[TaxCalculationContext](../types/medusa.TaxCalculationContext.mdx)",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "exclude_gift_cards",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "include_tax",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "use_tax_lines",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;[LineItemTotals](../types/medusa.LineItemTotals-1.mdx)&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the breakdown of the line item totals",
    "expandable": false,
    "children": [
      {
        "name": "LineItemTotals",
        "type": "`object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getPaidTotal

Gets the total payments made on an order

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "order",
    "type": "[Order](medusa.Order.mdx)",
    "description": "the order to calculate paid amount for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "billing_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the billing address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "billing_address_id",
        "type": "`string`",
        "description": "The ID of the billing address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date the order was canceled on.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "The details of the claims created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "currency",
        "type": "[Currency](medusa.Currency.mdx)",
        "description": "The details of the currency used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "currency_code",
        "type": "`string`",
        "description": "The 3 character currency code that is used in the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "The details of the customer associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "customer_id",
        "type": "`string`",
        "description": "The ID of the customer associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`number`",
        "description": "The total of discount rounded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "The details of the discounts applied on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "display_id",
        "type": "`number`",
        "description": "The order's display ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "draft_order",
        "type": "[DraftOrder](medusa.DraftOrder.mdx)",
        "description": "The details of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "draft_order_id",
        "type": "`string`",
        "description": "The ID of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "edits",
        "type": "[OrderEdit](medusa.OrderEdit.mdx)[]",
        "description": "The details of the order edits done on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "email",
        "type": "`string`",
        "description": "The email associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "external_id",
        "type": "`null` \\| `string`",
        "description": "The ID of an external order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[FulfillmentStatus](../enums/medusa.FulfillmentStatus.mdx)",
        "description": "The order's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_card_tax_total",
        "type": "`number`",
        "description": "The total of gift cards with taxes",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`number`",
        "description": "The total of gift cards",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_transactions",
        "type": "[GiftCardTransaction](medusa.GiftCardTransaction.mdx)[]",
        "description": "The gift card transactions made in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_cards",
        "type": "[GiftCard](medusa.GiftCard.mdx)[]",
        "description": "The details of the gift card used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The order's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the processing of the order in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "item_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on items",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that belong to the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "object",
        "type": "`\"order\"`",
        "description": "",
        "optional": false,
        "defaultValue": "\"order\"",
        "expandable": false,
        "children": []
      },
      {
        "name": "paid_total",
        "type": "`number`",
        "description": "The total amount paid",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[PaymentStatus](../enums/medusa.PaymentStatus.mdx)",
        "description": "The order's payment status",
        "optional": false,
        "defaultValue": "not_paid",
        "expandable": false,
        "children": []
      },
      {
        "name": "payments",
        "type": "[Payment](medusa.Payment.mdx)[]",
        "description": "The details of the payments used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`number`",
        "description": "The total of discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable_amount",
        "type": "`number`",
        "description": "The amount that can be refunded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunded_total",
        "type": "`number`",
        "description": "The total amount refunded if the order is returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunds",
        "type": "[Refund](medusa.Refund.mdx)[]",
        "description": "The details of the refunds created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "The details of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region_id",
        "type": "`string`",
        "description": "The ID of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returnable_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that are returnable as part of the order, swaps, or claims",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "returns",
        "type": "[Return](medusa.Return.mdx)[]",
        "description": "The details of the returns created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel",
        "type": "[SalesChannel](medusa.SalesChannel.mdx)",
        "description": "The details of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the shipping address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_total",
        "type": "`number`",
        "description": "The total of shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "status",
        "type": "[OrderStatus](../enums/medusa.OrderStatus.mdx)",
        "description": "The order's status",
        "optional": false,
        "defaultValue": "pending",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "The details of the swaps created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_rate",
        "type": "`null` \\| `number`",
        "description": "The order's tax rate",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "the total paid amount",
    "expandable": false,
    "children": []
  }
]} />

___

### getRefundTotal

Calculates refund total of line items.
If any of the items to return have been discounted, we need to
apply the discount again before refunding them.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "order",
    "type": "[Order](medusa.Order.mdx)",
    "description": "cart or order to calculate subtotal for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "billing_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the billing address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "billing_address_id",
        "type": "`string`",
        "description": "The ID of the billing address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date the order was canceled on.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "The details of the claims created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "currency",
        "type": "[Currency](medusa.Currency.mdx)",
        "description": "The details of the currency used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "currency_code",
        "type": "`string`",
        "description": "The 3 character currency code that is used in the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "The details of the customer associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "customer_id",
        "type": "`string`",
        "description": "The ID of the customer associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`number`",
        "description": "The total of discount rounded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "The details of the discounts applied on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "display_id",
        "type": "`number`",
        "description": "The order's display ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "draft_order",
        "type": "[DraftOrder](medusa.DraftOrder.mdx)",
        "description": "The details of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "draft_order_id",
        "type": "`string`",
        "description": "The ID of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "edits",
        "type": "[OrderEdit](medusa.OrderEdit.mdx)[]",
        "description": "The details of the order edits done on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "email",
        "type": "`string`",
        "description": "The email associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "external_id",
        "type": "`null` \\| `string`",
        "description": "The ID of an external order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[FulfillmentStatus](../enums/medusa.FulfillmentStatus.mdx)",
        "description": "The order's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_card_tax_total",
        "type": "`number`",
        "description": "The total of gift cards with taxes",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`number`",
        "description": "The total of gift cards",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_transactions",
        "type": "[GiftCardTransaction](medusa.GiftCardTransaction.mdx)[]",
        "description": "The gift card transactions made in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_cards",
        "type": "[GiftCard](medusa.GiftCard.mdx)[]",
        "description": "The details of the gift card used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The order's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the processing of the order in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "item_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on items",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that belong to the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "object",
        "type": "`\"order\"`",
        "description": "",
        "optional": false,
        "defaultValue": "\"order\"",
        "expandable": false,
        "children": []
      },
      {
        "name": "paid_total",
        "type": "`number`",
        "description": "The total amount paid",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[PaymentStatus](../enums/medusa.PaymentStatus.mdx)",
        "description": "The order's payment status",
        "optional": false,
        "defaultValue": "not_paid",
        "expandable": false,
        "children": []
      },
      {
        "name": "payments",
        "type": "[Payment](medusa.Payment.mdx)[]",
        "description": "The details of the payments used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`number`",
        "description": "The total of discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable_amount",
        "type": "`number`",
        "description": "The amount that can be refunded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunded_total",
        "type": "`number`",
        "description": "The total amount refunded if the order is returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunds",
        "type": "[Refund](medusa.Refund.mdx)[]",
        "description": "The details of the refunds created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "The details of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region_id",
        "type": "`string`",
        "description": "The ID of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returnable_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that are returnable as part of the order, swaps, or claims",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "returns",
        "type": "[Return](medusa.Return.mdx)[]",
        "description": "The details of the returns created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel",
        "type": "[SalesChannel](medusa.SalesChannel.mdx)",
        "description": "The details of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the shipping address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_total",
        "type": "`number`",
        "description": "The total of shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "status",
        "type": "[OrderStatus](../enums/medusa.OrderStatus.mdx)",
        "description": "The order's status",
        "optional": false,
        "defaultValue": "pending",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "The details of the swaps created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_rate",
        "type": "`null` \\| `number`",
        "description": "The order's tax rate",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "lineItems",
    "type": "[LineItem](medusa.LineItem.mdx)[]",
    "description": "the line items to calculate refund total for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "adjustments",
        "type": "[LineItemAdjustment](medusa.LineItemAdjustment.mdx)[]",
        "description": "The details of the item's adjustments, which are available when a discount is applied on the item.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "allow_discounts",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item should be included when doing discount calculations.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`string`",
        "description": "The ID of the claim that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "description",
        "type": "`null` \\| `string`",
        "description": "A more detailed description of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item rounded",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfilled_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been fulfilled.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`null` \\| `number`",
        "description": "The total of the gift card of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "has_shipping",
        "type": "`null` \\| `boolean`",
        "description": "Flag to indicate if the Line Item has fulfillment associated with it.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The line item's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Indicates if the line item unit\\_price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "is_giftcard",
        "type": "`boolean`",
        "description": "Flag to indicate if the Line Item is a Gift Card.",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "is_return",
        "type": "`boolean`",
        "description": "Is the item being returned",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit",
        "type": "`null` \\| [OrderEdit](medusa.OrderEdit.mdx)",
        "description": "The details of the order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_edit_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order edit that the item may belong to.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the order that the line item may belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_item_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the original line item. This is useful if the line item belongs to a resource that references an order, such as a return or an order edit.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_tax_total",
        "type": "`null` \\| `number`",
        "description": "The original tax total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "original_total",
        "type": "`null` \\| `number`",
        "description": "The original total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "product_id",
        "type": "`null` \\| `string`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "quantity",
        "type": "`number`",
        "description": "The quantity of the content in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`null` \\| `number`",
        "description": "The total of discount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable",
        "type": "`null` \\| `number`",
        "description": "The amount that can be refunded from the given Line Item. Takes taxes and discounts into consideration.",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returned_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipped_quantity",
        "type": "`null` \\| `number`",
        "description": "The quantity of the Line Item that has been shipped.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "should_merge",
        "type": "`boolean`",
        "description": "Flag to indicate if new Line Items with the same variant should be merged or added as an additional Line Item.",
        "optional": false,
        "defaultValue": "true",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`null` \\| `number`",
        "description": "The subtotal of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the line item may belong to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[LineItemTaxLine](medusa.LineItemTaxLine.mdx)[]",
        "description": "The details of the item's tax lines.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "thumbnail",
        "type": "`null` \\| `string`",
        "description": "A URL string to a small image of the contents of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "title",
        "type": "`string`",
        "description": "The title of the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`null` \\| `number`",
        "description": "The total amount of the line item",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "unit_price",
        "type": "`number`",
        "description": "The price of one unit of the content in the Line Item. This should be in the currency defined by the Cart/Order/Swap/Claim that the Line Item belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "variant",
        "type": "[ProductVariant](medusa.ProductVariant.mdx)",
        "description": "The details of the product variant that this item was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "variant_id",
        "type": "`null` \\| `string`",
        "description": "The id of the Product Variant contained in the Line Item.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the calculated subtotal",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getRefundedTotal

Gets the total refund amount for an order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "order",
    "type": "[Order](medusa.Order.mdx)",
    "description": "the order to get total refund amount for.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "billing_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the billing address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "billing_address_id",
        "type": "`string`",
        "description": "The ID of the billing address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date the order was canceled on.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "The details of the claims created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "currency",
        "type": "[Currency](medusa.Currency.mdx)",
        "description": "The details of the currency used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "currency_code",
        "type": "`string`",
        "description": "The 3 character currency code that is used in the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "The details of the customer associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "customer_id",
        "type": "`string`",
        "description": "The ID of the customer associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`number`",
        "description": "The total of discount rounded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "The details of the discounts applied on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "display_id",
        "type": "`number`",
        "description": "The order's display ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "draft_order",
        "type": "[DraftOrder](medusa.DraftOrder.mdx)",
        "description": "The details of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "draft_order_id",
        "type": "`string`",
        "description": "The ID of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "edits",
        "type": "[OrderEdit](medusa.OrderEdit.mdx)[]",
        "description": "The details of the order edits done on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "email",
        "type": "`string`",
        "description": "The email associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "external_id",
        "type": "`null` \\| `string`",
        "description": "The ID of an external order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[FulfillmentStatus](../enums/medusa.FulfillmentStatus.mdx)",
        "description": "The order's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_card_tax_total",
        "type": "`number`",
        "description": "The total of gift cards with taxes",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`number`",
        "description": "The total of gift cards",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_transactions",
        "type": "[GiftCardTransaction](medusa.GiftCardTransaction.mdx)[]",
        "description": "The gift card transactions made in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_cards",
        "type": "[GiftCard](medusa.GiftCard.mdx)[]",
        "description": "The details of the gift card used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The order's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the processing of the order in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "item_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on items",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that belong to the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "object",
        "type": "`\"order\"`",
        "description": "",
        "optional": false,
        "defaultValue": "\"order\"",
        "expandable": false,
        "children": []
      },
      {
        "name": "paid_total",
        "type": "`number`",
        "description": "The total amount paid",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[PaymentStatus](../enums/medusa.PaymentStatus.mdx)",
        "description": "The order's payment status",
        "optional": false,
        "defaultValue": "not_paid",
        "expandable": false,
        "children": []
      },
      {
        "name": "payments",
        "type": "[Payment](medusa.Payment.mdx)[]",
        "description": "The details of the payments used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`number`",
        "description": "The total of discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable_amount",
        "type": "`number`",
        "description": "The amount that can be refunded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunded_total",
        "type": "`number`",
        "description": "The total amount refunded if the order is returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunds",
        "type": "[Refund](medusa.Refund.mdx)[]",
        "description": "The details of the refunds created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "The details of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region_id",
        "type": "`string`",
        "description": "The ID of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returnable_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that are returnable as part of the order, swaps, or claims",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "returns",
        "type": "[Return](medusa.Return.mdx)[]",
        "description": "The details of the returns created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel",
        "type": "[SalesChannel](medusa.SalesChannel.mdx)",
        "description": "The details of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the shipping address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_total",
        "type": "`number`",
        "description": "The total of shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "status",
        "type": "[OrderStatus](../enums/medusa.OrderStatus.mdx)",
        "description": "The order's status",
        "optional": false,
        "defaultValue": "pending",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "The details of the swaps created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_rate",
        "type": "`null` \\| `number`",
        "description": "The order's tax rate",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "the total refunded amount for an order.",
    "expandable": false,
    "children": []
  }
]} />

___

### getShippingMethodTotals

Gets the totals breakdown for a shipping method. Fetches tax lines if not
already provided.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "shippingMethod",
    "type": "[ShippingMethod](medusa.ShippingMethod.mdx)",
    "description": "the shipping method to get totals breakdown for.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claim_order",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)",
        "description": "The details of the claim that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "claim_order_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the claim that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "data",
        "type": "`Record<string, unknown>`",
        "description": "Additional data that the Fulfillment Provider needs to fulfill the shipment. This is used in combination with the Shipping Options data, and may contain information such as a drop point id.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The shipping method's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "includes_tax",
        "type": "`boolean`",
        "description": "Whether the shipping method price include tax",
        "optional": false,
        "defaultValue": "false",
        "expandable": false,
        "featureFlag": "tax_inclusive_pricing",
        "children": []
      },
      {
        "name": "order",
        "type": "[Order](medusa.Order.mdx)",
        "description": "The details of the order that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "order_id",
        "type": "`string`",
        "description": "The ID of the order that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "price",
        "type": "`number`",
        "description": "The amount to charge for the Shipping Method. The currency of the price is defined by the Region that the Order that the Shipping Method belongs to is a part of.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_id",
        "type": "`string`",
        "description": "The ID of the return that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "return_order",
        "type": "[Return](medusa.Return.mdx)",
        "description": "The details of the return that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_option",
        "type": "[ShippingOption](medusa.ShippingOption.mdx)",
        "description": "The details of the shipping option the method was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_option_id",
        "type": "`string`",
        "description": "The ID of the Shipping Option that the Shipping Method is built from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the shipping",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swap",
        "type": "[Swap](medusa.Swap.mdx)",
        "description": "The details of the swap that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "swap_id",
        "type": "`string`",
        "description": "The ID of the swap that the shipping method is used in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_lines",
        "type": "[ShippingMethodTaxLine](medusa.ShippingMethodTaxLine.mdx)[]",
        "description": "The details of the tax lines applied on the shipping method.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`number`",
        "description": "The total of tax",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the shipping",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "the cart or order to use as context for the breakdown",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "opts",
    "type": "[GetShippingMethodTotalsOptions](../types/medusa.GetShippingMethodTotalsOptions.mdx)",
    "description": "options for what should be included",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "calculation_context",
        "type": "[TaxCalculationContext](../types/medusa.TaxCalculationContext.mdx)",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "include_tax",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "use_tax_lines",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;[ShippingMethodTotals](../types/medusa.ShippingMethodTotals-1.mdx)&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "An object that breaks down the totals for the shipping method",
    "expandable": false,
    "children": [
      {
        "name": "ShippingMethodTotals",
        "type": "`object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getShippingTotal

Calculates shipping total

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "cart or order to calculate subtotal for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "shipping total",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getSubtotal

Calculates subtotal of a given cart or order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "cart or order to calculate subtotal for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "opts",
    "type": "[SubtotalOptions](../types/medusa.SubtotalOptions.mdx)",
    "description": "options",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "excludeNonDiscounts",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the calculated subtotal",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getSwapTotal

The total paid for swaps. May be negative in case of negative swap
difference.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "order",
    "type": "[Order](medusa.Order.mdx)",
    "description": "the order to calculate swap total for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "billing_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the billing address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "billing_address_id",
        "type": "`string`",
        "description": "The ID of the billing address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "canceled_at",
        "type": "`Date`",
        "description": "The date the order was canceled on.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cart",
        "type": "[Cart](medusa.Cart.mdx)",
        "description": "The details of the cart associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "cart_id",
        "type": "`string`",
        "description": "The ID of the cart associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "claims",
        "type": "[ClaimOrder](medusa.ClaimOrder.mdx)[]",
        "description": "The details of the claims created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "created_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was created.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "currency",
        "type": "[Currency](medusa.Currency.mdx)",
        "description": "The details of the currency used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "currency_code",
        "type": "`string`",
        "description": "The 3 character currency code that is used in the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "customer",
        "type": "[Customer](medusa.Customer.mdx)",
        "description": "The details of the customer associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "customer_id",
        "type": "`string`",
        "description": "The ID of the customer associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discount_total",
        "type": "`number`",
        "description": "The total of discount rounded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "discounts",
        "type": "[Discount](medusa.Discount.mdx)[]",
        "description": "The details of the discounts applied on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "display_id",
        "type": "`number`",
        "description": "The order's display ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "draft_order",
        "type": "[DraftOrder](medusa.DraftOrder.mdx)",
        "description": "The details of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "draft_order_id",
        "type": "`string`",
        "description": "The ID of the draft order this order was created from.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "edits",
        "type": "[OrderEdit](medusa.OrderEdit.mdx)[]",
        "description": "The details of the order edits done on the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "email",
        "type": "`string`",
        "description": "The email associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "external_id",
        "type": "`null` \\| `string`",
        "description": "The ID of an external order.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillment_status",
        "type": "[FulfillmentStatus](../enums/medusa.FulfillmentStatus.mdx)",
        "description": "The order's fulfillment status",
        "optional": false,
        "defaultValue": "not_fulfilled",
        "expandable": false,
        "children": []
      },
      {
        "name": "fulfillments",
        "type": "[Fulfillment](medusa.Fulfillment.mdx)[]",
        "description": "The details of the fulfillments created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_card_tax_total",
        "type": "`number`",
        "description": "The total of gift cards with taxes",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_total",
        "type": "`number`",
        "description": "The total of gift cards",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "gift_card_transactions",
        "type": "[GiftCardTransaction](medusa.GiftCardTransaction.mdx)[]",
        "description": "The gift card transactions made in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "gift_cards",
        "type": "[GiftCard](medusa.GiftCard.mdx)[]",
        "description": "The details of the gift card used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "id",
        "type": "`string`",
        "description": "The order's ID",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "idempotency_key",
        "type": "`string`",
        "description": "Randomly generated key used to continue the processing of the order in case of failure.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "item_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on items",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that belong to the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "metadata",
        "type": "`Record<string, unknown>`",
        "description": "An optional key-value map with additional details",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "no_notification",
        "type": "`boolean`",
        "description": "Flag for describing whether or not notifications related to this should be send.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "object",
        "type": "`\"order\"`",
        "description": "",
        "optional": false,
        "defaultValue": "\"order\"",
        "expandable": false,
        "children": []
      },
      {
        "name": "paid_total",
        "type": "`number`",
        "description": "The total amount paid",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "payment_status",
        "type": "[PaymentStatus](../enums/medusa.PaymentStatus.mdx)",
        "description": "The order's payment status",
        "optional": false,
        "defaultValue": "not_paid",
        "expandable": false,
        "children": []
      },
      {
        "name": "payments",
        "type": "[Payment](medusa.Payment.mdx)[]",
        "description": "The details of the payments used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "raw_discount_total",
        "type": "`number`",
        "description": "The total of discount",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refundable_amount",
        "type": "`number`",
        "description": "The amount that can be refunded",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunded_total",
        "type": "`number`",
        "description": "The total amount refunded if the order is returned.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "refunds",
        "type": "[Refund](medusa.Refund.mdx)[]",
        "description": "The details of the refunds created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region",
        "type": "[Region](medusa.Region.mdx)",
        "description": "The details of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "region_id",
        "type": "`string`",
        "description": "The ID of the region this order was created in.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "returnable_items",
        "type": "[LineItem](medusa.LineItem.mdx)[]",
        "description": "The details of the line items that are returnable as part of the order, swaps, or claims",
        "optional": true,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "returns",
        "type": "[Return](medusa.Return.mdx)[]",
        "description": "The details of the returns created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel",
        "type": "[SalesChannel](medusa.SalesChannel.mdx)",
        "description": "The details of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "sales_channel_id",
        "type": "`null` \\| `string`",
        "description": "The ID of the sales channel this order belongs to.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_address",
        "type": "[Address](medusa.Address.mdx)",
        "description": "The details of the shipping address associated with the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_address_id",
        "type": "`string`",
        "description": "The ID of the shipping address associated with the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_methods",
        "type": "[ShippingMethod](medusa.ShippingMethod.mdx)[]",
        "description": "The details of the shipping methods used in the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "shipping_tax_total",
        "type": "`null` \\| `number`",
        "description": "The tax total applied on shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "shipping_total",
        "type": "`number`",
        "description": "The total of shipping",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "status",
        "type": "[OrderStatus](../enums/medusa.OrderStatus.mdx)",
        "description": "The order's status",
        "optional": false,
        "defaultValue": "pending",
        "expandable": false,
        "children": []
      },
      {
        "name": "subtotal",
        "type": "`number`",
        "description": "The subtotal of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "swaps",
        "type": "[Swap](medusa.Swap.mdx)[]",
        "description": "The details of the swaps created for the order.",
        "optional": false,
        "defaultValue": "",
        "expandable": true,
        "children": []
      },
      {
        "name": "tax_rate",
        "type": "`null` \\| `number`",
        "description": "The order's tax rate",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "tax_total",
        "type": "`null` \\| `number`",
        "description": "The total of tax",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "total",
        "type": "`number`",
        "description": "The total amount of the order",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "updated_at",
        "type": "`Date`",
        "description": "The date with timezone at which the resource was updated.",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "the swap total",
    "expandable": false,
    "children": []
  }
]} />

___

### getTaxTotal

Calculates tax total
Currently based on the Danish tax system

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "cart or order to calculate tax total for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "forceTaxes",
    "type": "`boolean`",
    "description": "whether taxes should be calculated regardless\n  of region settings",
    "optional": false,
    "defaultValue": "false",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;null \\| number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "tax total",
    "expandable": false,
    "children": [
      {
        "name": "null \\| number",
        "type": "`null` \\| `number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### getTotal

Calculates total of a given cart or order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "cartOrOrder",
    "type": "[Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)",
    "description": "object to calculate total for",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "options",
    "type": "[GetTotalsOptions](../types/medusa.GetTotalsOptions.mdx)",
    "description": "options to calculate by",
    "optional": false,
    "defaultValue": "{}",
    "expandable": false,
    "children": [
      {
        "name": "exclude_gift_cards",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "force_taxes",
        "type": "`boolean`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "Promise&#60;number&#62;",
    "optional": false,
    "defaultValue": "",
    "description": "the calculated subtotal",
    "expandable": false,
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "expandable": false,
        "children": []
      }
    ]
  }
]} />

___

### rounded

Rounds a number using Math.round.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "value",
    "type": "`number`",
    "description": "the value to round",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "number",
    "type": "`number`",
    "optional": true,
    "defaultValue": "",
    "description": "the rounded value",
    "expandable": false,
    "children": []
  }
]} />

___

### shouldRetryTransaction\_

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "err",
    "type": "`Record<string, unknown>` \\| `object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "boolean",
    "type": "`boolean`",
    "optional": true,
    "defaultValue": "",
    "description": "",
    "expandable": false,
    "children": []
  }
]} />

___

### withTransaction

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "transactionManager",
    "type": "`EntityManager`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

#### Returns

<ParameterTypes parameters={[
  {
    "name": "constructor",
    "type": "(`__namedParameters`: [TotalsServiceProps](../types/medusa.TotalsServiceProps.mdx)) => [TotalsService](medusa.TotalsService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "__configModule__",
    "type": "`Record<string, unknown>`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "__container__",
    "type": "`any`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "__moduleDeclaration__",
    "type": "`Record<string, unknown>`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "featureFlagRouter_",
    "type": "[FlagRouter](medusa.FlagRouter.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "flags",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "manager_",
    "type": "`EntityManager`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "newTotalsService_",
    "type": "[NewTotalsService](medusa.NewTotalsService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "__configModule__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__container__",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__moduleDeclaration__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "featureFlagRouter_",
        "type": "[FlagRouter](medusa.FlagRouter.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "manager_",
        "type": "`EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxCalculationStrategy_",
        "type": "[ITaxCalculationStrategy](../interfaces/medusa.ITaxCalculationStrategy.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxProviderService_",
        "type": "[TaxProviderService](medusa.TaxProviderService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "transactionManager_",
        "type": "`undefined` \\| `EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "taxCalculationStrategy_",
    "type": "[ITaxCalculationStrategy](../interfaces/medusa.ITaxCalculationStrategy.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "taxProviderService_",
    "type": "[TaxProviderService](medusa.TaxProviderService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": [
      {
        "name": "__configModule__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__container__",
        "type": "`any`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "__moduleDeclaration__",
        "type": "`Record<string, unknown>`",
        "description": "",
        "optional": true,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "cacheService_",
        "type": "[ICacheService](../interfaces/medusa.ICacheService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "container_",
        "type": "AwilixContainer&#60;any&#62;",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "eventBus_",
        "type": "[IEventBusService](../interfaces/medusa.IEventBusService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "manager_",
        "type": "`EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "smTaxLineRepo_",
        "type": "Repository&#60;[ShippingMethodTaxLine](medusa.ShippingMethodTaxLine.mdx)&#62; & `object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxLineRepo_",
        "type": "Repository&#60;[LineItemTaxLine](medusa.LineItemTaxLine.mdx)&#62; & `object`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxProviderRepo_",
        "type": "Repository&#60;[TaxProvider](medusa.TaxProvider.mdx)&#62;",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "taxRateService_",
        "type": "[TaxRateService](medusa.TaxRateService.mdx)",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      },
      {
        "name": "transactionManager_",
        "type": "`undefined` \\| `EntityManager`",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "expandable": false,
        "children": []
      }
    ]
  },
  {
    "name": "transactionManager_",
    "type": "`undefined` \\| `EntityManager`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "activeManager_",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "atomicPhase_",
    "type": "`<TResult, TError>`(`work`: (`transactionManager`: `EntityManager`) => Promise&#60;TResult&#62;, `isolationOrErrorHandler?`: `IsolationLevel` \\| (`error`: `TError`) => Promise&#60;void \\| TResult&#62;, `maybeErrorHandlerOrDontFail?`: (`error`: `TError`) => Promise&#60;void \\| TResult&#62;) => Promise&#60;TResult&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "calculateDiscount_",
    "type": "(`lineItem`: [LineItem](medusa.LineItem.mdx), `variant`: `string`, `variantPrice`: `number`, `value`: `number`, `discountType`: [DiscountRuleType](../enums/medusa.DiscountRuleType.mdx)) => [LineDiscount](../types/medusa.LineDiscount.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getAllocationItemDiscounts",
    "type": "(`discount`: [Discount](medusa.Discount.mdx), `cart`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)) => [LineDiscount](../types/medusa.LineDiscount.mdx)[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getAllocationMap",
    "type": "(`orderOrCart`: ``{ claims?: [ClaimOrder](medusa.ClaimOrder.mdx)[] ; discounts?: [Discount](medusa.Discount.mdx)[] ; items: [LineItem](medusa.LineItem.mdx)[] ; swaps?: [Swap](medusa.Swap.mdx)[]  }``, `options`: [AllocationMapOptions](../types/medusa.AllocationMapOptions.mdx)) => Promise&#60;[LineAllocationsMap](../types/medusa.LineAllocationsMap.mdx)&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getCalculationContext",
    "type": "(`calculationContextData`: [CalculationContextData](../types/medusa.CalculationContextData.mdx), `options`: [CalculationContextOptions](../types/medusa.CalculationContextOptions.mdx)) => Promise&#60;[TaxCalculationContext](../types/medusa.TaxCalculationContext.mdx)&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getDiscountTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getGiftCardTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `opts`: ``{ gift_cardable?: number  }``) => Promise&#60;&#123; tax_total: number ; total: number  &#125;&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getGiftCardableAmount",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineDiscounts",
    "type": "(`cartOrOrder`: ``{ claims?: [ClaimOrder](medusa.ClaimOrder.mdx)[] ; items: [LineItem](medusa.LineItem.mdx)[] ; swaps?: [Swap](medusa.Swap.mdx)[]  }``, `discount?`: [Discount](medusa.Discount.mdx)) => [LineDiscountAmount](../types/medusa.LineDiscountAmount.mdx)[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineItemAdjustmentsTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineItemDiscountAdjustment",
    "type": "(`lineItem`: [LineItem](medusa.LineItem.mdx), `discount`: [Discount](medusa.Discount.mdx)) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineItemRefund",
    "type": "(`order`: [Order](medusa.Order.mdx), `lineItem`: [LineItem](medusa.LineItem.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineItemTotal",
    "type": "(`lineItem`: [LineItem](medusa.LineItem.mdx), `cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `options`: [GetLineItemTotalOptions](../types/medusa.GetLineItemTotalOptions.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getLineItemTotals",
    "type": "(`lineItem`: [LineItem](medusa.LineItem.mdx), `cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `options`: [LineItemTotalsOptions](../types/medusa.LineItemTotalsOptions.mdx)) => Promise&#60;[LineItemTotals](../types/medusa.LineItemTotals-1.mdx)&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getPaidTotal",
    "type": "(`order`: [Order](medusa.Order.mdx)) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getRefundTotal",
    "type": "(`order`: [Order](medusa.Order.mdx), `lineItems`: [LineItem](medusa.LineItem.mdx)[]) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getRefundedTotal",
    "type": "(`order`: [Order](medusa.Order.mdx)) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getShippingMethodTotals",
    "type": "(`shippingMethod`: [ShippingMethod](medusa.ShippingMethod.mdx), `cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `opts`: [GetShippingMethodTotalsOptions](../types/medusa.GetShippingMethodTotalsOptions.mdx)) => Promise&#60;[ShippingMethodTotals](../types/medusa.ShippingMethodTotals-1.mdx)&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getShippingTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getSubtotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `opts`: [SubtotalOptions](../types/medusa.SubtotalOptions.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getSwapTotal",
    "type": "(`order`: [Order](medusa.Order.mdx)) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getTaxTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `forceTaxes`: `boolean`) => Promise&#60;null \\| number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "getTotal",
    "type": "(`cartOrOrder`: [Order](medusa.Order.mdx) \\| [Cart](medusa.Cart.mdx), `options`: [GetTotalsOptions](../types/medusa.GetTotalsOptions.mdx)) => Promise&#60;number&#62;",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "rounded",
    "type": "(`value`: `number`) => `number`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "shouldRetryTransaction_",
    "type": "(`err`: `Record<string, unknown>` \\| ``{ code: string  }``) => `boolean`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  },
  {
    "name": "withTransaction",
    "type": "(`transactionManager?`: `EntityManager`) => [TotalsService](medusa.TotalsService.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />
