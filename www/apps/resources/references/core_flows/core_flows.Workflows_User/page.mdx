import { TypeList, WorkflowDiagram } from "docs-ui"

# Workflows\_User

## Properties

- [authIdentityId](undefined)
- [userData](undefined)
- [userId](undefined)

## Variables

- [createUserAccountWorkflowId](../../modules/core_flows/page.mdx#createuseraccountworkflowid)
- [createUsersWorkflowId](../../modules/core_flows/page.mdx#createusersworkflowid)
- [deleteUsersWorkflowId](../../modules/core_flows/page.mdx#deleteusersworkflowid)
- [removeUserAccountWorkflowId](../../modules/core_flows/page.mdx#removeuseraccountworkflowid)
- [updateUsersWorkflowId](../../modules/core_flows/page.mdx#updateusersworkflowid)

## Functions

- [createUserAccountWorkflow](../../modules/core_flows/page.mdx#createuseraccountworkflow)
- [createUsersWorkflow](../../modules/core_flows/page.mdx#createusersworkflow)
- [deleteUsersWorkflow](../../modules/core_flows/page.mdx#deleteusersworkflow)
- [removeUserAccountWorkflow](../../modules/core_flows/page.mdx#removeuseraccountworkflow)
- [updateUsersWorkflow](../../modules/core_flows/page.mdx#updateusersworkflow)

<TypeList types={[{"name":"authIdentityId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"userData","type":"[CreateUserDTO](../../user/interfaces/user.CreateUserDTO/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"userId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="Workflows_User"/>

___

## createUserAccountWorkflowId

 `Const` **createUserAccountWorkflowId**: `"create-user-account"`

___

## createUsersWorkflowId

 `Const` **createUsersWorkflowId**: `"create-users-workflow"`

___

## deleteUsersWorkflowId

 `Const` **deleteUsersWorkflowId**: `"delete-user"`

___

## removeUserAccountWorkflowId

 `Const` **removeUserAccountWorkflowId**: `"remove-user-account"`

___

## updateUsersWorkflowId

 `Const` **updateUsersWorkflowId**: `"update-users-workflow"`

___

## createUserAccountWorkflow

This workflow creates an authentication identity for a user.

### Steps

<WorkflowDiagram workflow={{"name":"createUserAccountWorkflow","steps":[{"type":"workflow","name":"createUsersWorkflow","description":"This workflow creates one or more users.","link":"page.mdx#createusersworkflow","depth":1},{"type":"step","name":"setAuthAppMetadataStep","description":"This step sets the `app_metadata` property of an auth identity.","link":"../core_flows.Steps_Auth/page.mdx#setauthappmetadatastep","depth":2}]}} />

### Input

<TypeList types={[{"name":"CreateUserAccountWorkflowInput","type":"[CreateUserAccountWorkflowInput](../types/core_flows.CreateUserAccountWorkflowInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"authIdentityId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"userData","type":"[CreateUserDTO](../../user/interfaces/user.CreateUserDTO/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createUserAccountWorkflow"/>

### Output

<TypeList types={[{"name":"UserDTO","type":"[UserDTO](../../user/interfaces/user.UserDTO/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"The creation date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"The updated date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"The deletion date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createUserAccountWorkflow"/>

___

## createUsersWorkflow

This workflow creates one or more users.

### Steps

<WorkflowDiagram workflow={{"name":"createUsersWorkflow","steps":[{"type":"step","name":"createUsersStep","description":"This step creates one or more users.","link":"../core_flows.Steps_User/page.mdx#createusersstep","depth":1},{"type":"step","name":"emitEventStep","description":"Emit an event.\n\n","link":"../core_flows.Steps_Common/page.mdx#emiteventstep","depth":2}]}} />

### Input

<TypeList types={[{"name":"CreateUsersWorkflowInputDTO","type":"[CreateUsersWorkflowInputDTO](../../types/WorkflowTypes/UserWorkflow/interfaces/types.WorkflowTypes.UserWorkflow.CreateUsersWorkflowInputDTO/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"users","type":"[CreateUserDTO](../../user/interfaces/user.CreateUserDTO/page.mdx)[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createUsersWorkflow"/>

### Output

<TypeList types={[{"name":"UserDTO[]","type":"[UserDTO](../../user/interfaces/user.UserDTO/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"UserDTO","type":"[UserDTO](../../user/interfaces/user.UserDTO/page.mdx)","optional":false,"defaultValue":"","description":"The user details.","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"The creation date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"The updated date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"The deletion date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createUsersWorkflow"/>

___

## deleteUsersWorkflow

This workflow deletes one or more users.

### Steps

<WorkflowDiagram workflow={{"name":"deleteUsersWorkflow","steps":[{"type":"step","name":"deleteUsersStep","description":"This step deletes one or more stores.","link":"../core_flows.Steps_User/page.mdx#deleteusersstep","depth":1},{"type":"step","name":"emitEventStep","description":"Emit an event.\n\n","link":"../core_flows.Steps_Common/page.mdx#emiteventstep","depth":2}]}} />

### Input

<TypeList types={[{"name":"DeleteUserWorkflowInput","type":"[DeleteUserWorkflowInput](../../types/WorkflowTypes/UserWorkflow/interfaces/types.WorkflowTypes.UserWorkflow.DeleteUserWorkflowInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"ids","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="deleteUsersWorkflow"/>

___

## removeUserAccountWorkflow

This workflow deletes a user and remove the association in the auth identity.

### Steps

<WorkflowDiagram workflow={{"name":"removeUserAccountWorkflow","steps":[{"type":"workflow","name":"deleteUsersWorkflow","description":"This workflow deletes one or more users.","link":"page.mdx#deleteusersworkflow","depth":1},{"type":"step","name":"useRemoteQueryStep","description":"This step fetches data across modules using the remote query.\n\nLearn more in the [Remote Query documentation](https://docs.medusajs.com/advanced-development/modules/remote-query).\n\n","link":"../core_flows.Steps_Common/page.mdx#useremotequerystep","depth":2},{"type":"when","condition":"{\n      return !!authIdentity\n    }","depth":"3","steps":[{"type":"step","name":"setAuthAppMetadataStep","description":"This step sets the `app_metadata` property of an auth identity.","link":"../core_flows.Steps_Auth/page.mdx#setauthappmetadatastep","depth":3}]}]}} />

### Input

<TypeList types={[{"name":"RemoveUserAccountWorkflowInput","type":"[RemoveUserAccountWorkflowInput](../types/core_flows.RemoveUserAccountWorkflowInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"userId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="removeUserAccountWorkflow"/>

### Output

<TypeList types={[{"name":"string","type":"`string`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"string","type":"`string`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="removeUserAccountWorkflow"/>

___

## updateUsersWorkflow

This workflow updates one or more users.

### Steps

<WorkflowDiagram workflow={{"name":"updateUsersWorkflow","steps":[{"type":"step","name":"updateUsersStep","description":"This step updates one or more stores.","link":"../core_flows.Steps_User/page.mdx#updateusersstep","depth":1},{"type":"step","name":"emitEventStep","description":"Emit an event.\n\n","link":"../core_flows.Steps_Common/page.mdx#emiteventstep","depth":2}]}} />

### Input

<TypeList types={[{"name":"UpdateUsersWorkflowInputDTO","type":"[UpdateUsersWorkflowInputDTO](../../types/WorkflowTypes/UserWorkflow/interfaces/types.WorkflowTypes.UserWorkflow.UpdateUsersWorkflowInputDTO/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"updates","type":"[UpdateUserDTO](../../user/interfaces/user.UpdateUserDTO/page.mdx)[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="updateUsersWorkflow"/>

### Output

<TypeList types={[{"name":"UserDTO[]","type":"[UserDTO](../../user/interfaces/user.UserDTO/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"UserDTO","type":"[UserDTO](../../user/interfaces/user.UserDTO/page.mdx)","optional":false,"defaultValue":"","description":"The user details.","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"email","type":"`string`","description":"The email of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"first_name","type":"`null` \\| `string`","description":"The first name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"last_name","type":"`null` \\| `string`","description":"The last name of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"avatar_url","type":"`null` \\| `string`","description":"The avatar URL of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"Holds custom data in key-value pairs.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"The creation date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"The updated date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"The deletion date of the user.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="updateUsersWorkflow"/>
