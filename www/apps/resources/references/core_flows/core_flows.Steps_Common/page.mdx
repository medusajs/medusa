import { TypeList, WorkflowDiagram } from "docs-ui"

# Steps\_Common

## Properties

- [fields](../interfaces/core_flows.RemoteStepInput/page.mdx#fields)
- [fields](../interfaces/core_flows.EntryStepInput/page.mdx#fields)
- [fields](../interfaces/core_flows.ServiceStepInput/page.mdx#fields)
- [variables](../interfaces/core_flows.RemoteStepInput/page.mdx#variables)
- [variables](../interfaces/core_flows.EntryStepInput/page.mdx#variables)
- [variables](../interfaces/core_flows.ServiceStepInput/page.mdx#variables)
- [throw\_if\_key\_not\_found](../interfaces/core_flows.RemoteStepInput/page.mdx#throw_if_key_not_found)
- [throw\_if\_key\_not\_found](../interfaces/core_flows.EntryStepInput/page.mdx#throw_if_key_not_found)
- [throw\_if\_key\_not\_found](../interfaces/core_flows.ServiceStepInput/page.mdx#throw_if_key_not_found)
- [throw\_if\_relation\_not\_found](../interfaces/core_flows.RemoteStepInput/page.mdx#throw_if_relation_not_found)
- [throw\_if\_relation\_not\_found](../interfaces/core_flows.EntryStepInput/page.mdx#throw_if_relation_not_found)
- [throw\_if\_relation\_not\_found](../interfaces/core_flows.ServiceStepInput/page.mdx#throw_if_relation_not_found)
- [list](../interfaces/core_flows.RemoteStepInput/page.mdx#list)
- [list](../interfaces/core_flows.EntryStepInput/page.mdx#list)
- [list](../interfaces/core_flows.ServiceStepInput/page.mdx#list)
- [entry\_point](../interfaces/core_flows.EntryStepInput/page.mdx#entry_point)
- [service](../interfaces/core_flows.ServiceStepInput/page.mdx#service)

## Variables

- [createLinksStepId](../../modules/core_flows/page.mdx#createlinksstepid)
- [dismissRemoteLinkStepId](../../modules/core_flows/page.mdx#dismissremotelinkstepid)
- [emitEventStepId](../../modules/core_flows/page.mdx#emiteventstepid)
- [removeRemoteLinkStepId](../../modules/core_flows/page.mdx#removeremotelinkstepid)
- [updateRemoteLinksStepId](../../modules/core_flows/page.mdx#updateremotelinksstepid)
- [useRemoteQueryStepId](../../modules/core_flows/page.mdx#useremotequerystepid)

## Functions

- [createRemoteLinkStep](../../modules/core_flows/page.mdx#createremotelinkstep)
- [dismissRemoteLinkStep](../../modules/core_flows/page.mdx#dismissremotelinkstep)
- [emitEventStep](../../modules/core_flows/page.mdx#emiteventstep)
- [removeRemoteLinkStep](../../modules/core_flows/page.mdx#removeremotelinkstep)
- [updateRemoteLinksStep](../../modules/core_flows/page.mdx#updateremotelinksstep)
- [useRemoteQueryStep](../../modules/core_flows/page.mdx#useremotequerystep)

<TypeList types={[{"name":"fields","type":"`string`[]","description":"The fields to retrieve in the records.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"The fields to retrieve in the records.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"The fields to retrieve in the records.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"entry_point","type":"`string`","description":"The name of the data model to retrieve its records.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"service","type":"`string`","description":"The name of the module's service.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"variables","type":"`Record<string, any>`","description":"Filters, context variables, or pagination fields to apply when retrieving the records.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"variables","type":"`Record<string, any>`","description":"Filters, context variables, or pagination fields to apply when retrieving the records.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"variables","type":"`Record<string, any>`","description":"Filters, context variables, or pagination fields to apply when retrieving the records.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_key_not_found","type":"`boolean`","description":"Throw an error if a record isn't found matching an ID specified in the filters.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_key_not_found","type":"`boolean`","description":"Throw an error if a record isn't found matching an ID specified in the filters.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_key_not_found","type":"`boolean`","description":"Throw an error if a record isn't found matching an ID specified in the filters.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_relation_not_found","type":"`boolean` \\| `string`[]","description":"Throw an error if a specified relation isn't found.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_relation_not_found","type":"`boolean` \\| `string`[]","description":"Throw an error if a specified relation isn't found.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throw_if_relation_not_found","type":"`boolean` \\| `string`[]","description":"Throw an error if a specified relation isn't found.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"list","type":"`boolean`","description":"Whether to retrieve the records as an array. If disabled, only one record is retrieved as an object.","optional":true,"defaultValue":"true","expandable":false,"children":[]},{"name":"list","type":"`boolean`","description":"Whether to retrieve the records as an array. If disabled, only one record is retrieved as an object.","optional":true,"defaultValue":"true","expandable":false,"children":[]},{"name":"list","type":"`boolean`","description":"Whether to retrieve the records as an array. If disabled, only one record is retrieved as an object.","optional":true,"defaultValue":"true","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="Steps_Common"/>

___

## createLinksStepId

 `Const` **createLinksStepId**: `"create-remote-links"`

___

## dismissRemoteLinkStepId

 `Const` **dismissRemoteLinkStepId**: `"dismiss-remote-links"`

___

## emitEventStepId

 `Const` **emitEventStepId**: `"emit-event-step"`

___

## removeRemoteLinkStepId

 `Const` **removeRemoteLinkStepId**: `"remove-remote-links"`

___

## updateRemoteLinksStepId

 `Const` **updateRemoteLinksStepId**: `"update-remote-links-step"`

___

## useRemoteQueryStepId

 `Const` **useRemoteQueryStepId**: `"use-remote-query"`

___

## createRemoteLinkStep

This step creates remote links between two records of linked data models.

Learn more in the [Remote Link documentation.](https://docs.medusajs.com/v2/advanced-development/modules/remote-link#create-link).

### Example

```ts
import { createWorkflow } from "@medusajs/workflows-sdk"
import { createRemoteLinkStep } from "@medusajs/core-flows"
import { Modules } from "@medusajs/utils"

const helloWorldWorkflow = createWorkflow("hello-world", () => {
  createRemoteLinkStep([
    {
      [Modules.PRODUCT]: {
        product_id: "prod_123",
      },
      helloModuleService: {
        my_custom_id: "mc_123",
      },
    },
  ])
})
```

### Input

<TypeList types={[{"name":"LinkDefinition[]","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"LinkDefinition","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createRemoteLinkStep"/>

### Output

<TypeList types={[{"name":"LinkDefinition[]","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"LinkDefinition","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="createRemoteLinkStep"/>

___

## dismissRemoteLinkStep

This step removes remote links between two records of linked data models.

Learn more in the [Remote Link documentation.](https://docs.medusajs.com/v2/advanced-development/modules/remote-link#dismiss-link).

### Example

```ts
import {
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  dismissRemoteLinkStep
} from "@medusajs/core-flows"
import {
  Modules
} from "@medusajs/utils"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    dismissRemoteLinkStep([{
      [Modules.PRODUCT]: {
        product_id: "prod_123",
      },
      "helloModuleService": {
        my_custom_id: "mc_123",
      },
    }])
  }
)
```

### Input

<TypeList types={[{"name":"DismissRemoteLinksStepInput","type":"[DismissRemoteLinksStepInput](../types/core_flows.DismissRemoteLinksStepInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="dismissRemoteLinkStep"/>

### Output

<TypeList types={[{"name":"LinkDefinition[]","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"LinkDefinition","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="dismissRemoteLinkStep"/>

___

## emitEventStep

Emit an event.

### Example

```ts
import {
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  emitEventStep
} from "@medusajs/core-flows"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    emitEventStep({
      eventName: "custom.created",
      data: {
        id: "123"
      }
    })
  }
)
```

### Input

<TypeList types={[{"name":"Input","type":"`Input`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="emitEventStep"/>

___

## removeRemoteLinkStep

This step deletes linked records of a record.

Learn more in the [Remote Link documentation](https://docs.medusajs.com/v2/advanced-development/modules/remote-link#cascade-delete-linked-records)

### Example

```ts
import { 
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  removeRemoteLinkStep
} from "@medusajs/core-flows"
import {
  Modules
} from "@medusajs/utils"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    removeRemoteLinkStep([{
      [Modules.PRODUCT]: {
        product_id: "prod_123",
      },
    }])
  }
)
```

### Input

<TypeList types={[{"name":"RemoveRemoteLinksStepInput","type":"`RemoveRemoteLinksStepInput`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="removeRemoteLinkStep"/>

### Output

<TypeList types={[{"name":"DeleteEntityInput","type":"[DeleteEntityInput](../../modules_sdk/types/modules_sdk.DeleteEntityInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"DeleteEntityInput","type":"`object`","description":"The details of a data model's record whose linked records should be deleted. Usually used after the\ndata model's record is deleted.\n\nThe key is the data model's name. Its value is an object that has the ID of the data model's record.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="removeRemoteLinkStep"/>

___

## updateRemoteLinksStep

### Input

<TypeList types={[{"name":"LinkDefinition[]","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"LinkDefinition","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="updateRemoteLinksStep"/>

### Output

<TypeList types={[{"name":"LinkDefinition[]","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"LinkDefinition","type":"[LinkDefinition](../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.LinkDefinition/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="updateRemoteLinksStep"/>

___

## useRemoteQueryStep

This step fetches data across modules using the remote query.

Learn more in the [Remote Query documentation](https://docs.medusajs.com/v2/advanced-development/modules/remote-query).

### Example

To retrieve a list of records of a data model:

```ts
import { 
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  useRemoteQueryStep
} from "@medusajs/core-flows"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    const products = useRemoteQueryStep({
      entry_point: "product",
      fields: [
        "*",
        "variants.*"
      ]
    })
  }
)
```

To retrieve a single item instead of a an array:

```ts
import { 
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  useRemoteQueryStep
} from "@medusajs/core-flows"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    const product = useRemoteQueryStep({
      entry_point: "product",
      fields: [
        "*",
        "variants.*"
      ],
      variables: {
        filters: {
          id: "123"
        }
      },
      list: false
    })
  }
)
```

To throw an error if a record isn't found matching the specified ID:

```ts
import { 
  createWorkflow
} from "@medusajs/workflows-sdk"
import {
  useRemoteQueryStep
} from "@medusajs/core-flows"

const helloWorldWorkflow = createWorkflow(
  "hello-world",
  () => {
    const product = useRemoteQueryStep({
      entry_point: "product",
      fields: [
        "*",
        "variants.*"
      ],
      variables: {
        filters: {
          id: "123"
        }
      },
      list: false,
      throw_if_key_not_found: true
    })
  }
)
```

### Input

<TypeList types={[{"name":"EntryStepInput \\| ServiceStepInput","type":"[EntryStepInput](../interfaces/core_flows.EntryStepInput/page.mdx) \\| [ServiceStepInput](../interfaces/core_flows.ServiceStepInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"EntryStepInput \\| ServiceStepInput","type":"[EntryStepInput](../interfaces/core_flows.EntryStepInput/page.mdx) \\| [ServiceStepInput](../interfaces/core_flows.ServiceStepInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="useRemoteQueryStep"/>
