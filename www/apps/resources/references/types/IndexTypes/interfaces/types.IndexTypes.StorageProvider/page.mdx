import { TypeList } from "docs-ui"

# StorageProvider

Represents the storage provider interface,

## Methods

### onApplicationStart

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;void&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="onApplicationStart"/>

### query

#### Type Parameters

<TypeList types={[{"name":"TEntry","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

#### Parameters

<TypeList types={[{"name":"config","type":"[IndexQueryConfig](../../types/types.IndexTypes.IndexQueryConfig/page.mdx)&#60;TEntry&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"fields","type":"[ObjectToIndexFields](../../types/types.IndexTypes.ObjectToIndexFields/page.mdx)&#60;[IndexServiceEntryPoints](../types.IndexTypes.IndexServiceEntryPoints/page.mdx)[TEntry & keyof [IndexServiceEntryPoints](../types.IndexTypes.IndexServiceEntryPoints/page.mdx)]&#62; extends `never` ? `string`[] : [ObjectToIndexFields](../../types/types.IndexTypes.ObjectToIndexFields/page.mdx)&#60;[IndexServiceEntryPoints](../types.IndexTypes.IndexServiceEntryPoints/page.mdx)[TEntry & keyof [IndexServiceEntryPoints](../types.IndexTypes.IndexServiceEntryPoints/page.mdx)]&#62;[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"filters","type":"[IndexFilters](../../types/types.IndexTypes.IndexFilters/page.mdx)&#60;TEntry&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"joinFilters","type":"[IndexFilters](../../types/types.IndexTypes.IndexFilters/page.mdx)&#60;TEntry&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"pagination","type":"Partial&#60;[RemoteQueryInput](../../../ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryInput/page.mdx)&#60;TEntry&#62;[\"pagination\"]&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"keepFilteredEntities","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[QueryResultSet](../../types/types.IndexTypes.QueryResultSet/page.mdx)&#60;TEntry&#62;&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"QueryResultSet","type":"[QueryResultSet](../../types/types.IndexTypes.QueryResultSet/page.mdx)&#60;TEntry&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"TEntry","type":"TEntry","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

### consumeEvent

#### Parameters

<TypeList types={[{"name":"schemaEntityObjectRepresentation","type":"[SchemaObjectEntityRepresentation](../../types/types.IndexTypes.SchemaObjectEntityRepresentation/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"entity","type":"`string`","description":"The name of the type/entity in the schema","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"parents","type":"`object`[]","description":"All parents a type/entity refers to in the schema\nor through links","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"ref","type":"[SchemaObjectEntityRepresentation](../../types/types.IndexTypes.SchemaObjectEntityRepresentation/page.mdx)","description":"The reference to the schema object representation\nof the parent","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"targetProp","type":"`string`","description":"The property the data should be assigned to in the parent","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"inSchemaRef","type":"[SchemaObjectEntityRepresentation](../../types/types.IndexTypes.SchemaObjectEntityRepresentation/page.mdx)","description":"When a link is inferred between two types/entities\nwe are configuring the link tree, and therefore we are\nstoring the reference to the parent type/entity within the\nschema which defer from the true parent from a pure entity\npoint of view","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isList","type":"`boolean`","description":"Are the data expected to be a list or not","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"fields","type":"`string`[]","description":"The default fields to query for the type/entity","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"listeners","type":"`string`[]","description":"`@Listerners` directive is required and all listeners found\nfor the type will be stored here","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"`string`","description":"The alias for the type/entity retrieved in the corresponding\nmodule","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"moduleConfig","type":"[ModuleJoinerConfig](../../../ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleJoinerConfig/page.mdx)","description":"The module joiner config corresponding to the module the type/entity\nrefers to","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"alias","type":"[JoinerServiceConfigAlias](../../../interfaces/types.JoinerServiceConfigAlias/page.mdx) \\| [JoinerServiceConfigAlias](../../../interfaces/types.JoinerServiceConfigAlias/page.mdx)[]","description":"Property name to use as entrypoint to the service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fieldAlias","type":"`Record<string, string \\| object>`","description":"alias for deeper nested relationships (e.g. &#123; 'price': 'prices.calculated\\_price\\_set.amount' &#125;)","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"schema","type":"`string`","description":"GraphQL schema for the all module's available entities and fields","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"[ModuleJoinerRelationship](../../../ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleJoinerRelationship/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"serviceName","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isLink","type":"`boolean`","description":"If the module is a link module","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"linkableKeys","type":"`Record<string, string>`","description":"Keys that can be used to link to other modules. e.g &#123; product\\_id: \"Product\" &#125; \"Product\" being the entity it refers to","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isReadOnlyLink","type":"`boolean`","description":"If true it expands a RemoteQuery property but doesn't create a pivot table","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extraDataFields","type":"`string`[]","description":"Fields that will be part of the link record aside from the primary keys that can be updated\nIf not explicitly defined, this array will be populated by databaseConfig.extraFields","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"databaseConfig","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="consumeEvent"/>

#### Returns

<TypeList types={[{"name":"Subscriber","type":"[Subscriber](../../../EventBusTypes/types/types.EventBusTypes.Subscriber/page.mdx)&#60;any&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="consumeEvent"/>
